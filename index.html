<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Passaparola Oyunu</title>
    
    <link rel="icon" type="image/png" href="passaparola.png">
    <link rel="apple-touch-icon" href="passaparola.png">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #f0f2f5;
            overflow-x: hidden;
        }

        body.splash-active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }

        /* AÇILIŞ EKRANI */
        #splash-screen { padding: 20px; text-align: center; width: 100%; }
        .logo-image { width: 120px; margin-bottom: 20px; }
        .themes-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 20px; }
        .theme-card { background: white; padding: 15px; border-radius: 15px; font-weight: bold; font-size: 0.8rem; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }

        /* OYUN EKRANI */
        #game-screen { display: none; width: 100%; flex-direction: column; align-items: center; padding: 10px; }
        #game-screen.active { display: flex; }

        #theme-display { font-size: 1.2rem; font-weight: bold; color: #764ba2; margin: 10px 0; }

        /* HARF DAİRESİ - MOBİL UYUMLU */
        #game-container {
            position: relative;
            width: 90vw; 
            height: 90vw;
            max-width: 380px;
            max-height: 380px;
            background: white;
            border-radius: 50%;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .letter-circle {
            position: absolute;
            width: 32px;
            height: 32px;
            background-color: #dc143c;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 0.8rem;
            border: 2px solid #fff;
            transition: all 0.3s;
            z-index: 10;
        }

        .letter-circle.active { background-color: #ffd700; color: #000; transform: scale(1.3); box-shadow: 0 0 15px #ffd700; }
        .letter-circle.correct { background-color: #4caf50; }

        /* MERKEZ PANEL */
        #center-display {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 75%;
            text-align: center;
            z-index: 5;
        }

        #main-text { font-size: 1.1rem; font-weight: 800; color: #2c3e50; }
        
        #question-text {
            font-size: 0.85rem;
            color: #333;
            background: #f9f9f9;
            padding: 10px;
            border-radius: 10px;
            display: none;
            line-height: 1.4;
            border: 1px solid #ddd;
            margin-bottom: 5px;
        }

        #answer-text {
            font-size: 1rem;
            font-weight: bold;
            color: #d32f2f;
            display: none;
        }

        /* BUTONLAR */
        .button-group { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; width: 95%; max-width: 400px; }
        button { padding: 12px; border-radius: 20px; border: none; color: white; font-weight: bold; font-size: 0.9rem; }
        #btn-action { grid-column: span 2; background: #2196F3; font-size: 1.1rem; }
        #btn-home { background: #9C27B0; }
        #btn-reset { background: #FF9800; }
        #btn-end { background: #F44336; grid-column: span 2; }
    </style>
</head>
<body class="splash-active">

    <div id="splash-screen">
        <h1 style="color:white; margin-bottom:10px;">Passaparola</h1>
        <p style="color:white;">Bir tema seçin</p>
        <div class="themes-grid" id="themes-grid"></div>
    </div>

    <div id="game-screen">
        <div id="theme-display"></div>
        <div id="game-container">
            <div id="center-display">
                <div id="main-text">PASSAPAROLA</div>
                <div id="question-text"></div>
                <div id="answer-text"></div>
            </div>
        </div>
        <div class="button-group">
            <button id="btn-action" onclick="nextStep()">Oyuna Başla</button>
            <button id="btn-home" onclick="location.reload()">Anasayfa</button>
            <button id="btn-reset" onclick="resetGame()">Sıfırla</button>
            <button id="btn-end" onclick="endGame()">Bitir</button>
        </div>
    </div>

    <script>
        const themeDatabase = {
            "Türkçe": [
                { letter: "A", question: "İsmin eş anlamlısı nedir?", answer: "AD" },
                { letter: "B", question: "Anlamca birbirine bağlı cümleler topluluğu?", answer: "BİRLEŞİK" },
                { letter: "C", question: "Kelimelerin oluşturduğu anlamlı dizi?", answer: "CÜMLE" },
                { letter: "D", question: "Dilin kurallarını inceleyen bilim?", answer: "DİLBİLGİSİ" }
                // Diğer harfleri buraya eklemeye devam edebilirsiniz...
            ],
            "Genel Kültür": [
                { letter: "A", question: "Türkiye'nin başkenti neresidir?", answer: "ANKARA" },
                { letter: "B", question: "Dünyanın en büyük kıtası?", answer: "ASYA" }
            ]
        };

        let currentTheme = "";
        let data = [];
        let currentIndex = -1;
        let stepState = 0;

        // Temaları Listele
        const grid = document.getElementById('themes-grid');
        Object.keys(themeDatabase).forEach(t => {
            const card = document.createElement('div');
            card.className = 'theme-card';
            card.innerText = t;
            card.onclick = () => selectTheme(t);
            grid.appendChild(card);
        });

        function selectTheme(theme) {
            currentTheme = theme;
            data = themeDatabase[theme];
            document.getElementById('splash-screen').style.display = 'none';
            document.getElementById('game-screen').classList.add('active');
            document.body.classList.remove('splash-active');
            document.getElementById('theme-display').innerText = theme;
            createBoard();
        }

        function createBoard() {
            const container = document.getElementById('game-container');
            // Önceki harfleri temizle (Merkez panel hariç)
            const oldLetters = container.querySelectorAll('.letter-circle');
            oldLetters.forEach(l => l.remove());

            const radius = container.offsetWidth / 2 - 25; 
            const centerX = container.offsetWidth / 2;
            const centerY = container.offsetHeight / 2;

            data.forEach((item, index) => {
                const angle = (index * (360 / data.length)) - 90;
                const radian = angle * (Math.PI / 180);
                const x = centerX + radius * Math.cos(radian);
                const y = centerY + radius * Math.sin(radian);

                const div = document.createElement('div');
                div.className = 'letter-circle';
                div.id = 'letter-' + index;
                div.innerText = item.letter;
                div.style.left = (x - 16) + 'px';
                div.style.top = (y - 16) + 'px';
                container.appendChild(div);
            });
        }

        function nextStep() {
            const qt = document.getElementById('question-text');
            const at = document.getElementById('answer-text');
            const mt = document.getElementById('main-text');
            const btn = document.getElementById('btn-action');

            if (stepState === 0) { // Soruya geç
                currentIndex++;
                if (currentIndex >= data.length) { alert("Oyun Bitti!"); return; }
                
                // Harfi Aktif Yap
                document.querySelectorAll('.letter-circle').forEach(l => l.classList.remove('active'));
                document.getElementById('letter-' + currentIndex).classList.add('active');

                mt.style.display = 'none';
                qt.style.display = 'block';
                at.style.display = 'none';
                qt.innerText = data[currentIndex].question;
                btn.innerText = "Cevabı Gör";
                stepState = 1;
            } else { // Cevaba geç
                at.style.display = 'block';
                at.innerText = data[currentIndex].answer;
                document.getElementById('letter-' + currentIndex).classList.add('correct');
                btn.innerText = "Sıradaki Harf";
                stepState = 0;
            }
        }

        function resetGame() {
            currentIndex = -1;
            stepState = 0;
            document.getElementById('main-text').style.display = 'block';
            document.getElementById('question-text').style.display = 'none';
            document.getElementById('answer-text').style.display = 'none';
            document.getElementById('btn-action').innerText = "Oyuna Başla";
            createBoard();
        }

        function endGame() {
            alert("Oyun sonlandırıldı.");
            location.reload();
        }
    </script>
</body>
</html>

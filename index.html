<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Passaparola Oyunu</title>
    
    <link rel="icon" type="image/png" href="passaparola.png">
    <link rel="apple-touch-icon" href="passaparola.png">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Passaparola">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Roboto:wght@400;500;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        body.splash-active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        body.game-active {
            background: #f8f9fa;
        }

        /* A√áILI≈û EKRANI MOBƒ∞L OPTƒ∞Mƒ∞ZASYONU */
        #splash-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .splash-container {
            text-align: center;
            width: 100%;
            max-width: 600px;
        }

        .logo-image {
            width: 150px; /* Mobilde daha k√º√ß√ºk logo */
            height: auto;
            margin-bottom: 30px;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
        }

        .welcome-text {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: rgba(255,255,255,0.9);
            font-size: 1rem;
            margin-bottom: 30px;
        }

        .themes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Mobilde 2 s√ºtun */
            gap: 15px;
        }

        .theme-card {
            background: white;
            border-radius: 15px;
            padding: 15px 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .theme-icon { font-size: 2rem; }
        .theme-name { font-size: 0.9rem; color: #2c3e50; font-weight: bold; }
        .theme-description { display: none; } /* Mobilde yer kazanmak i√ßin a√ßƒ±klamayƒ± gizledik */

        /* OYUN ALANI √ñL√áEKLENDƒ∞RME (Daireyi sƒ±ƒüdƒ±rmak i√ßin kritik kƒ±sƒ±m) */
        #game-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            padding-top: 20px;
        }

        #game-screen.active { display: flex; }

        #theme-display {
            font-size: 1.1rem;
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 10px;
        }

        #game-container {
            position: relative;
            /* Dinamik boyutlandƒ±rma: Ekranƒ±n enine g√∂re %90 geni≈ülik */
            width: 90vw; 
            height: 90vw;
            max-width: 500px;
            max-height: 500px;
            background: rgba(118, 75, 162, 0.05);
            border-radius: 50%;
            margin-bottom: 20px;
        }

        .letter-circle {
            position: absolute;
            width: 30px; /* Mobilde daha k√º√ß√ºk harf daireleri */
            height: 30px;
            background-color: #dc143c;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 0.8rem;
            border: 2px solid #fff;
            transition: all 0.3s ease;
        }

        .letter-circle.active {
            background-color: #ffd700;
            color: #000;
            transform: scale(1.4);
            box-shadow: 0 0 15px #ffd700;
        }

        .letter-circle.correct {
            background-color: #4caf50;
        }

        /* ORTA PANEL (SORU VE CEVAP) */
        #center-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70%;
            text-align: center;
        }

        #main-text {
            font-size: 1.2rem;
            font-weight: 900;
            color: #2c3e50;
        }

        #question-text {
            font-size: 0.95rem;
            background: #fff;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            line-height: 1.3;
            max-height: 120px;
            overflow-y: auto;
        }

        #answer-text {
            font-size: 1.1rem;
            color: #d32f2f;
            margin-top: 10px;
            font-weight: bold;
            background: #fff;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #d32f2f;
        }

        /* BUTON GRUBU MOBƒ∞L */
        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            width: 90%;
            padding-bottom: 30px;
        }

        button {
            padding: 12px;
            font-size: 0.9rem;
            border-radius: 25px;
            border: none;
            color: white;
            font-weight: bold;
        }

        #btn-action { grid-column: span 2; background-color: #2196F3; font-size: 1.1rem; }
        #btn-home { background-color: #9C27B0; }
        #btn-reset { background-color: #FF9800; }
        #btn-end { background-color: #F44336; grid-column: span 2; }

        @media (min-width: 769px) {
            /* Masa√ºst√º i√ßin orijinal boyutlar burada korunabilir */
            .letter-circle { width: 50px; height: 50px; font-size: 1.2rem; }
            #question-text { font-size: 1.4rem; padding: 20px; }
            #game-container { width: 600px; height: 600px; }
        }
    </style>
</head>
<body class="splash-active">

    <div id="splash-screen">
        <div class="splash-container">
            <div class="logo-container">
                <img src="https://cdn.abacus.ai/images/fba8a2af-883d-416b-a167-442aedd02623.png" alt="Passaparola Logo" class="logo-image">
            </div>
            <h1 class="welcome-text">Passaparola</h1>
            <p class="subtitle">Bir tema se√ßerek ba≈ülayƒ±n</p>

            <div class="themes-grid">
                <div class="theme-card" onclick="selectTheme('Medya Okuryazarlƒ±ƒüƒ±')"><span>üì±</span><div class="theme-name">Medya Okuryazarlƒ±ƒüƒ±</div></div>
                <div class="theme-card" onclick="selectTheme('T√ºrk√ße')"><span>üìö</span><div class="theme-name">T√ºrk√ße</div></div>
                <div class="theme-card" onclick="selectTheme('Atat√ºrk ve Milli M√ºcadele')"><span>üáπüá∑</span><div class="theme-name">Atat√ºrk</div></div>
                <div class="theme-card" onclick="selectTheme('T√ºrkiye')"><span>üèõÔ∏è</span><div class="theme-name">T√ºrkiye</div></div>
                <div class="theme-card" onclick="selectTheme('Tarih')"><span>‚è≥</span><div class="theme-name">Tarih</div></div>
                <div class="theme-card" onclick="selectTheme('D√ºnya')"><span>üåç</span><div class="theme-name">D√ºnya</div></div>
                <div class="theme-card" onclick="selectTheme('Oyunlar')"><span>üéÆ</span><div class="theme-name">Oyunlar</div></div>
                <div class="theme-card" onclick="selectTheme('Genel K√ºlt√ºr')"><span>üí°</span><div class="theme-name">Genel K√ºlt√ºr</div></div>
            </div>
        </div>
    </div>

    <div id="game-screen">
        <div id="theme-display"></div>
        <div id="game-container"></div>
        <div class="button-group">
            <button id="btn-action" onclick="nextStep()">Oyuna Ba≈üla</button>
            <button id="btn-home" onclick="returnToSplash()">Anasayfa</button>
            <button id="btn-reset" onclick="resetGame()">Ba≈üa D√∂n</button>
            <button id="btn-end" onclick="endGame()">Oyunu Bitir</button>
        </div>
    </div>

    <script>
        // Veritabanƒ± senin orijinal veritabanƒ±nla aynƒ± (Kƒ±saltƒ±ldƒ± ama senin kodunda tam olmalƒ±)
        const themeDatabase = { /* ...Senin Orijinal themeDatabase ƒ∞√ßeriƒüin Buraya Gelecek... */ };

        let currentTheme = "";
        let data = [];
        let currentIndex = -1;
        let stepState = 0;
        let isGameFinished = false;
        let gameStarted = false;

        const container = document.getElementById('game-container');
        const actionBtn = document.getElementById('btn-action');
        const circles = [];

        function selectTheme(themeName) {
            currentTheme = themeName;
            data = themeDatabase[themeName];
            document.getElementById('splash-screen').style.display = 'none';
            document.getElementById('game-screen').classList.add('active');
            document.getElementById('theme-display').innerText = `Tema: ${currentTheme}`;
            document.body.className = 'game-active';
            createBoard();
            gameStarted = true;
        }

        function createBoard() {
            container.innerHTML = '<div id="center-display"><div id="main-text">PASSAPAROLA</div><div id="question-text" style="display:none"></div><div id="answer-text" style="display:none"></div></div>';
            circles.length = 0;
            
            // Mobilde daire yarƒ±√ßapƒ±nƒ± konteynƒ±r boyutuna g√∂re hesapla
            const rect = container.getBoundingClientRect();
            const radius = (rect.width / 2) - 20; 
            const total = data.length;
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;

            data.forEach((item, index) => {
                const angle = (index * (360 / total)) - 90;
                const radian = angle * (Math.PI / 180);
                const x = centerX + radius * Math.cos(radian);
                const y = centerY + radius * Math.sin(radian);

                const div = document.createElement('div');
                div.className = 'letter-circle';
                div.innerText = item.letter;
                // Mobilde tam ortalamak i√ßin
                div.style.left = `${x - 15}px`;
                div.style.top = `${y - 15}px`;
                container.appendChild(div);
                circles.push(div);
            });
        }

        // nextStep, resetGame, endGame fonksiyonlarƒ± senin orijinal mantƒ±ƒüƒ±nla aynƒ± kalabilir
        // Sadece k√º√ß√ºk bir UI g√ºncellemesi:
        function nextStep() {
            if (isGameFinished || !gameStarted) return;
            const qt = document.getElementById('question-text');
            const mt = document.getElementById('main-text');
            const at = document.getElementById('answer-text');

            if (stepState === 0) {
                currentIndex++;
                if(currentIndex >= data.length) { endGame(); return; }
                if (currentIndex > 0) { circles[currentIndex - 1].classList.add('correct'); }
                circles[currentIndex].classList.add('active');
                mt.style.display = 'none';
                qt.style.display = 'block';
                qt.innerText = data[currentIndex].question;
                at.style.display = 'none';
                actionBtn.innerText = "Cevabƒ± G√∂r";
                stepState = 1;
            } else {
                at.style.display = 'block';
                at.innerText = data[currentIndex].answer;
                circles[currentIndex].classList.remove('active');
                circles[currentIndex].classList.add('correct');
                actionBtn.innerText = "Sƒ±radaki Harf";
                stepState = 0;
            }
        }

        function returnToSplash() { location.reload(); }
        function resetGame() { selectTheme(currentTheme); }
        function endGame() { alert("Oyun Bitti!"); returnToSplash(); }
    </script>
</body>
</html>
